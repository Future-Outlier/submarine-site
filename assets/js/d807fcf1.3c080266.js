"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[5899],{3905:function(e,t,n){n.d(t,{Zo:function(){return d},kt:function(){return k}});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var p=a.createContext({}),s=function(e){var t=a.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},d=function(e){var t=s(e.components);return a.createElement(p.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},u=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,l=e.originalType,p=e.parentName,d=i(e,["components","mdxType","originalType","parentName"]),u=s(n),k=r,c=u["".concat(p,".").concat(k)]||u[k]||m[k]||l;return n?a.createElement(c,o(o({ref:t},d),{},{components:n})):a.createElement(c,o({ref:t},d))}));function k(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var l=n.length,o=new Array(l);o[0]=u;var i={};for(var p in t)hasOwnProperty.call(t,p)&&(i[p]=t[p]);i.originalType=e,i.mdxType="string"==typeof e?e:r,o[1]=i;for(var s=2;s<l;s++)o[s]=n[s];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}u.displayName="MDXCreateElement"},4988:function(e,t,n){n.r(t),n.d(t,{assets:function(){return d},contentTitle:function(){return p},default:function(){return k},frontMatter:function(){return i},metadata:function(){return s},toc:function(){return m}});var a=n(7462),r=n(3366),l=(n(7294),n(3905)),o=["components"],i={title:"Notebook REST API"},p=void 0,s={unversionedId:"api/notebook",id:"version-0.7.0/api/notebook",title:"Notebook REST API",description:"\x3c!--",source:"@site/versioned_docs/version-0.7.0/api/notebook.md",sourceDirName:"api",slug:"/api/notebook",permalink:"/docs/0.7.0/api/notebook",editUrl:"https://github.com/apache/submarine/edit/master/website/versioned_docs/version-0.7.0/api/notebook.md",tags:[],version:"0.7.0",frontMatter:{title:"Notebook REST API"},sidebar:"api",previous:{title:"Experiment Template REST API",permalink:"/docs/0.7.0/api/experiment-template"},next:{title:"Register Model REST API",permalink:"/docs/0.7.0/api/register-model"}},d={},m=[{value:"Create a notebook instance",id:"create-a-notebook-instance",level:2},{value:"Parameters",id:"parameters",level:3},{value:"<strong>NotebookSpec</strong>",id:"notebookspec",level:4},{value:"<strong>NotebookMeta</strong>",id:"notebookmeta",level:4},{value:"<strong>EnvironmentSpec</strong>",id:"environmentspec",level:4},{value:"<strong>NotebookPodSpec</strong>",id:"notebookpodspec",level:4},{value:"Example",id:"example",level:3},{value:"List notebook instances which belong to user",id:"list-notebook-instances-which-belong-to-user",level:2},{value:"Parameters",id:"parameters-1",level:3},{value:"Example",id:"example-1",level:3},{value:"Get the notebook instance",id:"get-the-notebook-instance",level:2},{value:"Parameters",id:"parameters-2",level:3},{value:"Example",id:"example-2",level:3},{value:"Delete the notebook instance",id:"delete-the-notebook-instance",level:2},{value:"Parameters",id:"parameters-3",level:3},{value:"Example",id:"example-3",level:3}],u={toc:m};function k(e){var t=e.components,n=(0,r.Z)(e,o);return(0,l.kt)("wrapper",(0,a.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,l.kt)("div",{className:"admonition admonition-caution alert alert--warning"},(0,l.kt)("div",{parentName:"div",className:"admonition-heading"},(0,l.kt)("h5",{parentName:"div"},(0,l.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,l.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},(0,l.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"caution")),(0,l.kt)("div",{parentName:"div",className:"admonition-content"},(0,l.kt)("p",{parentName:"div"},"The Notebook API is in the alpha stage which is subjected to incompatible changes in future releases."))),(0,l.kt)("h2",{id:"create-a-notebook-instance"},"Create a notebook instance"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"POST /api/v1/notebook")),(0,l.kt)("h3",{id:"parameters"},"Parameters"),(0,l.kt)("p",null,"NotebookSpec in request body."),(0,l.kt)("h4",{id:"notebookspec"},(0,l.kt)("strong",{parentName:"h4"},"NotebookSpec")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Field Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"),(0,l.kt)("th",{parentName:"tr",align:"center"},"Required"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"meta"),(0,l.kt)("td",{parentName:"tr",align:null},"NotebookMeta"),(0,l.kt)("td",{parentName:"tr",align:null},"Meta data of the notebook."),(0,l.kt)("td",{parentName:"tr",align:"center"},"o")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"environment"),(0,l.kt)("td",{parentName:"tr",align:null},"EnvironmentSpec"),(0,l.kt)("td",{parentName:"tr",align:null},"Environment of the experiment template."),(0,l.kt)("td",{parentName:"tr",align:"center"},"o")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"spec"),(0,l.kt)("td",{parentName:"tr",align:null},"NotebookPodSpec"),(0,l.kt)("td",{parentName:"tr",align:null},"Spec of the notebook pods."),(0,l.kt)("td",{parentName:"tr",align:"center"},"o")))),(0,l.kt)("h4",{id:"notebookmeta"},(0,l.kt)("strong",{parentName:"h4"},"NotebookMeta")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Field Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"),(0,l.kt)("th",{parentName:"tr",align:"center"},"Required"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"name"),(0,l.kt)("td",{parentName:"tr",align:null},"String"),(0,l.kt)("td",{parentName:"tr",align:null},"Notebook name."),(0,l.kt)("td",{parentName:"tr",align:"center"},"o")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"namespace"),(0,l.kt)("td",{parentName:"tr",align:null},"String"),(0,l.kt)("td",{parentName:"tr",align:null},"Notebook namespace."),(0,l.kt)("td",{parentName:"tr",align:"center"},"o")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"ownerId"),(0,l.kt)("td",{parentName:"tr",align:null},"String"),(0,l.kt)("td",{parentName:"tr",align:null},"User id."),(0,l.kt)("td",{parentName:"tr",align:"center"},"o")))),(0,l.kt)("h4",{id:"environmentspec"},(0,l.kt)("strong",{parentName:"h4"},"EnvironmentSpec")),(0,l.kt)("p",null,"See more details in ",(0,l.kt)("a",{parentName:"p",href:"/docs/0.7.0/api/environment"},"environment api"),"."),(0,l.kt)("h4",{id:"notebookpodspec"},(0,l.kt)("strong",{parentName:"h4"},"NotebookPodSpec")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Field Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"),(0,l.kt)("th",{parentName:"tr",align:"center"},"Required"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"envVars"),(0,l.kt)("td",{parentName:"tr",align:null},"Map<String, String",">"),(0,l.kt)("td",{parentName:"tr",align:null},"Environmental variables."),(0,l.kt)("td",{parentName:"tr",align:"center"},"x")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"resources"),(0,l.kt)("td",{parentName:"tr",align:null},"String"),(0,l.kt)("td",{parentName:"tr",align:null},"Resourecs of the pod."),(0,l.kt)("td",{parentName:"tr",align:"center"},"o")))),(0,l.kt)("h3",{id:"example"},"Example"),(0,l.kt)("details",null,(0,l.kt)("summary",null,"Example Request"),(0,l.kt)("div",null,(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},'curl -X POST -H "Content-Type: application/json" -d \'\n{\n  "meta": {\n    "name": "test-nb",\n    "namespace": "default",\n    "ownerId": "e9ca23d68d884d4ebb19d07889727dae"\n  },\n  "environment": {\n    "name": "notebook-env"\n  },\n  "spec": {\n    "envVars": {\n      "TEST_ENV": "test"\n    },\n    "resources": "cpu=1,memory=1.0Gi"\n  }\n}\n\' http://127.0.0.1:32080/api/v1/notebook\n')))),(0,l.kt)("details",null,(0,l.kt)("summary",null,"Example Response"),(0,l.kt)("div",null,(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "status":"OK",\n  "code":200,\n  "success":true,\n  "message":"Create a notebook instance",\n  "result":{\n    "notebookId":"notebook_1647574374688_0001",\n    "name":"test-nb",\n    "uid":"4a839fef-b4c9-483a-b4e8-c17236588118",\n    "url":"/notebook/default/test-nb/lab",\n    "status":"creating",\n    "reason":"The notebook instance is creating",\n    "createdTime":"2022-03-18T16:13:16.000+08:00",\n    "deletedTime":null,\n    "spec":{\n      "meta":{\n        "name":"test-nb",\n        "namespace":"default",\n        "ownerId":"e9ca23d68d884d4ebb19d07889727dae",\n        "labels":{\n          "notebook-owner-id":"e9ca23d68d884d4ebb19d07889727dae",\n          "notebook-id":"notebook_1647574374688_0001"\n        }\n      },\n      "environment":{\n        "name":"notebook-env",\n        "dockerImage":"apache/submarine:jupyter-notebook-0.7.0",\n        "kernelSpec":{\n          "name":"submarine_jupyter_py3",\n          "channels":[\n            "defaults"\n          ],\n          "condaDependencies":[],\n          "pipDependencies":[]\n        },\n        "description":null,\n        "image":null\n      },\n      "spec":{\n        "envVars":{\n          "TEST_ENV":"test"\n        },\n        "resources":"cpu\\u003d1,memory\\u003d1.0Gi"\n      }\n    }\n  },\n  "attributes":{}\n}\n')))),(0,l.kt)("h2",{id:"list-notebook-instances-which-belong-to-user"},"List notebook instances which belong to user"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"GET /api/v1/notebook?id={user_id}")),(0,l.kt)("h3",{id:"parameters-1"},"Parameters"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Field Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"In"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"),(0,l.kt)("th",{parentName:"tr",align:"center"},"Required"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"id"),(0,l.kt)("td",{parentName:"tr",align:null},"String"),(0,l.kt)("td",{parentName:"tr",align:null},"query"),(0,l.kt)("td",{parentName:"tr",align:null},"User id."),(0,l.kt)("td",{parentName:"tr",align:"center"},"o")))),(0,l.kt)("h3",{id:"example-1"},"Example"),(0,l.kt)("details",null,(0,l.kt)("summary",null,"Example Request"),(0,l.kt)("div",null,(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"curl -X GET http://127.0.0.1:32080/api/v1/notebook?id={user_id}\n")))),(0,l.kt)("details",null,(0,l.kt)("summary",null,"Example Response"),(0,l.kt)("div",null,(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "status":"OK",\n  "code":200,\n  "success":true,\n  "message":"List all notebook instances",\n  "result":[\n    {\n      "notebookId":"notebook_1647574374688_0001",\n      "name":"test-nb",\n      "uid":null,\n      "url":"/notebook/default/test-nb/lab",\n      "status":"running",\n      "reason":"The notebook instance is running",\n      "createdTime":"2022-03-18T16:13:16.000+08:00",\n      "deletedTime":"2022-03-18T16:13:21.000+08:00",\n      "spec":{\n        "meta":{\n          "name":"test-nb",\n          "namespace":"default",\n          "ownerId":"e9ca23d68d884d4ebb19d07889727dae",\n          "labels":{\n            "notebook-owner-id":"e9ca23d68d884d4ebb19d07889727dae",\n            "notebook-id":"notebook_1647574374688_0001"\n          }\n        },\n        "environment":{\n          "name":"notebook-env",\n          "dockerImage":"apache/submarine:jupyter-notebook-0.7.0",\n          "kernelSpec":{\n            "name":"submarine_jupyter_py3",\n            "channels":[\n              "defaults"\n            ],\n            "condaDependencies":[],\n            "pipDependencies":[]\n          },\n          "description":null,\n          "image":null\n        },\n        "spec":{\n          "envVars":{\n            "TEST_ENV":"test"\n          },\n          "resources":"cpu\\u003d1,memory\\u003d1.0Gi"\n        }\n      }\n    }\n  ],\n  "attributes":{}\n}\n')))),(0,l.kt)("h2",{id:"get-the-notebook-instance"},"Get the notebook instance"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"GET /api/v1/notebook/{id}")),(0,l.kt)("h3",{id:"parameters-2"},"Parameters"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Field Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"In"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"),(0,l.kt)("th",{parentName:"tr",align:"center"},"Required"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"id"),(0,l.kt)("td",{parentName:"tr",align:null},"String"),(0,l.kt)("td",{parentName:"tr",align:null},"path"),(0,l.kt)("td",{parentName:"tr",align:null},"Notebook id."),(0,l.kt)("td",{parentName:"tr",align:"center"},"o")))),(0,l.kt)("h3",{id:"example-2"},"Example"),(0,l.kt)("details",null,(0,l.kt)("summary",null,"Example Request"),(0,l.kt)("div",null,(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"curl -X GET http://127.0.0.1:32080/api/v1/notebook/{id}\n")))),(0,l.kt)("details",null,(0,l.kt)("summary",null,"Example Response"),(0,l.kt)("div",null,(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "status":"OK",\n  "code":200,\n  "success":true,\n  "message":"Get the notebook instance",\n  "result":{\n    "notebookId":"notebook_1647574374688_0001",\n    "name":"test-nb",\n    "uid":"4a839fef-b4c9-483a-b4e8-c17236588118",\n    "url":"/notebook/default/test-nb/lab",\n    "status":"running",\n    "reason":"The notebook instance is running",\n    "createdTime":"2022-03-18T16:13:16.000+08:00",\n    "deletedTime":"2022-03-18T16:13:21.000+08:00",\n    "spec":{\n      "meta":{\n        "name":"test-nb",\n        "namespace":"default",\n        "ownerId":"e9ca23d68d884d4ebb19d07889727dae",\n        "labels":{\n          "notebook-owner-id":"e9ca23d68d884d4ebb19d07889727dae",\n          "notebook-id":"notebook_1647574374688_0001"\n        }\n      },\n      "environment":{\n        "name":"notebook-env",\n        "dockerImage":"apache/submarine:jupyter-notebook-0.7.0",\n        "kernelSpec":{\n          "name":"submarine_jupyter_py3",\n          "channels":[\n            "defaults"\n          ],\n          "condaDependencies":[],\n          "pipDependencies":[]\n        },\n        "description":null,\n        "image":null\n      },\n      "spec":{\n        "envVars":{\n          "TEST_ENV":"test"\n        },\n        "resources":"cpu\\u003d1,memory\\u003d1.0Gi"\n      }\n    }\n  },\n  "attributes":{}\n}\n')))),(0,l.kt)("h2",{id:"delete-the-notebook-instance"},"Delete the notebook instance"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"DELETE /api/v1/notebook/{id}")),(0,l.kt)("h3",{id:"parameters-3"},"Parameters"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Field Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"In"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"),(0,l.kt)("th",{parentName:"tr",align:"center"},"Required"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"id"),(0,l.kt)("td",{parentName:"tr",align:null},"String"),(0,l.kt)("td",{parentName:"tr",align:null},"path"),(0,l.kt)("td",{parentName:"tr",align:null},"Notebook id."),(0,l.kt)("td",{parentName:"tr",align:"center"},"o")))),(0,l.kt)("h3",{id:"example-3"},"Example"),(0,l.kt)("details",null,(0,l.kt)("summary",null,"Example Request"),(0,l.kt)("div",null,(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"curl -X DELETE http://127.0.0.1:32080/api/v1/notebook/{id}\n")))),(0,l.kt)("details",null,(0,l.kt)("summary",null,"Example Response"),(0,l.kt)("div",null,(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "status":"OK",\n  "code":200,\n  "success":true,\n  "message":"Delete the notebook instance",\n  "result":{\n    "notebookId":"notebook_1647574374688_0001",\n    "name":"test-nb",\n    "uid":"4a839fef-b4c9-483a-b4e8-c17236588118",\n    "url":"/notebook/default/test-nb/lab",\n    "status":"terminating",\n    "reason":"The notebook instance is terminating",\n    "createdTime":"2022-03-18T16:13:16.000+08:00",\n    "deletedTime":"2022-03-18T16:13:21.000+08:00",\n    "spec":{\n      "meta":{\n        "name":"test-nb",\n        "namespace":"default",\n        "ownerId":"e9ca23d68d884d4ebb19d07889727dae",\n        "labels":{\n          "notebook-owner-id":"e9ca23d68d884d4ebb19d07889727dae",\n          "notebook-id":"notebook_1647574374688_0001"\n        }\n      },\n      "environment":{\n        "name":"notebook-env",\n        "dockerImage":"apache/submarine:jupyter-notebook-0.7.0",\n        "kernelSpec":{\n          "name":"submarine_jupyter_py3",\n          "channels":[\n            "defaults"\n          ],\n          "condaDependencies":[],\n          "pipDependencies":[]\n        },\n        "description":null,\n        "image":null\n      },\n      "spec":{\n        "envVars":{\n          "TEST_ENV":"test"\n        },\n        "resources":"cpu\\u003d1,memory\\u003d1.0Gi"\n      }\n    }\n  },\n  "attributes":{}\n}\n')))))}k.isMDXComponent=!0}}]);